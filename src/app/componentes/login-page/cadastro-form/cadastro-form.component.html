<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>

<section id="section-cadastro" class="cadastro-form roll-in-blurred-left">
  <app-ewallet></app-ewallet>

  <h2>Controle para suas Finanças! Junte-se a nós HOJE!</h2>

  <p>Preencha o formulário abaixo para realizar seu cadastro.</p>
  <!-- 
    //TODO validar login no TS e redirecionar para dashboard
   -->
  <form
    action=""
    [formGroup]="cadastroForm"
    (submit)="onSubmit($event)"
    id="cadastro-form"
  >
    <div class="input-icons">
      <img
        src="../../../../assets/imgs/login-cadastro/fi_mail.svg"
        alt="Email Icon"
      />
      <input
        type="email"
        name="userEmail"
        id="userEmail"
        placeholder="Email"
        formControlName="userEmail"
        autocomplete="off"
        autofocus
        #userEmail
        required
        [ngClass]="
          cadastroForm.get('userEmail')?.invalid &&
          (cadastroForm.get('userEmail')?.touched ||
            cadastroForm.get('userEmail')?.dirty)
            ? 'red'
            : 'green'
        "
      />
      <i
        *ngIf="
          cadastroForm.get('userEmail')?.invalid &&
          (cadastroForm.get('userEmail')?.touched ||
            cadastroForm.get('userEmail')?.dirty)
        "
        class="fa-solid fa-circle-exclamation"
      ></i>
    </div>
    <div class="input-icons">
      <img
        src="../../../../assets/imgs/login-cadastro/u_user.svg"
        alt="User Icon"
      />
      <input
        type="text"
        name="userId"
        id="userId"
        placeholder="Usuario"
        formControlName="userId"
        autocomplete="off"
        #userId
        required
        [ngClass]="
          cadastroForm.get('userId')?.invalid &&
          (cadastroForm.get('userId')?.touched ||
            cadastroForm.get('userId')?.dirty)
            ? 'red'
            : 'green'
        "
      />
      <i
        *ngIf="
          cadastroForm.get('userId')?.invalid &&
          (cadastroForm.get('userId')?.touched ||
            cadastroForm.get('userId')?.dirty)
        "
        class="fa-solid fa-circle-exclamation"
      ></i>
    </div>
    <div class="input-icons">
      <img
        src="../../../../assets/imgs/login-cadastro/u_lock.svg"
        alt="Lock Icon"
      />
      <input
        type="password"
        name="password"
        id="password"
        placeholder="Nova Senha"
        formControlName="password"
        #password
        required
        [ngClass]="cadastroForm.errors?.['mismatch'] &&
        (cadastroForm.get('passwordConfirmation')?.touched ||
          cadastroForm.get('passwordConfirmation')?.dirty) ? 'red' : 'green'"
      />
      <i
        *ngIf="
          cadastroForm.errors?.['mismatch'] &&
          (cadastroForm.get('passwordConfirmation')?.touched ||
          cadastroForm.get('passwordConfirmation')?.dirty)
        "
        class="fa-solid fa-circle-exclamation"
      ></i>
    </div>
    <div class="input-icons">
      <img
        src="../../../../assets/imgs/login-cadastro/u_lock.svg"
        alt="Lock Icon"
      />
      <input
        type="password"
        name="password-confirmation"
        id="password-confirmation"
        placeholder="Confirme sua Senha"
        formControlName="passwordConfirmation"
        #passwordConfirmation
        required
        [ngClass]="cadastroForm.errors?.['mismatch'] &&
        (cadastroForm.get('passwordConfirmation')?.touched ||
          cadastroForm.get('passwordConfirmation')?.dirty) ? 'red' : 'green'"
      />
      <i
        *ngIf="
          cadastroForm.errors?.['mismatch'] &&
          (cadastroForm.get('passwordConfirmation')?.touched ||
          cadastroForm.get('passwordConfirmation')?.dirty)
        "
        class="fa-solid fa-circle-exclamation"
      ></i>
      <p
        class="alert alert-danger"
        *ngIf="
          cadastroForm.errors?.['mismatch'] &&
          (cadastroForm.get('passwordConfirmation')?.touched ||
            cadastroForm.get('passwordConfirmation')?.dirty)
        "
      >
        Senhas devem ser iguais.
      </p>
    </div>

    <app-button [text]="'Registrar'"></app-button>
  </form>
  <p>
    Já possui conta?<a
      class="cadastre"
      routerLink="/"
      routerLinkActive="active"
      ariaCurrentWhenActive="page"
    >
      Entrar</a
    >
  </p>
</section>
